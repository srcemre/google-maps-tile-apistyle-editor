<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Google Map Style Explorer</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="assets/css/style.css" />
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha2d1-sP3/azT7A1S3uB49X4d34Vw/kL/nFp3d/jE9G7iQ8QeM1A/pE+J9K+33D3L5G4A==" crossorigin="" />
</head>

<body class="bg-gray-50 flex h-screen text-gray-800">
    <!-- Left Sidebar: Controls -->
    <div id="control-panel"
        class="w-full md:w-96 bg-white border-r border-gray-200 shadow-2xl p-5 flex flex-col z-20 transition-transform duration-300 transform md:translate-x-0 -translate-x-full absolute md:relative h-full overflow-y-auto">
        <header class="mb-5 border-b pb-3">
            <h1 class="text-2xl font-bold text-gray-900 tracking-tight">
                Style Explorer
            </h1>
            <p class="text-xs text-gray-500 mt-1">
                Discover hidden Google Maps styles
            </p>
        </header>

        <!-- INPUT AREA (Moved to Top as requested) -->
        <div class="mb-5 bg-blue-50 p-3 rounded-lg border border-blue-100">
            <label for="apistyle-input"
                class="block text-xs font-bold text-blue-800 uppercase tracking-wider mb-2 flex items-center">
                <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                </svg>
                Apistyle Parameter
            </label>
            <textarea id="apistyle-input" rows="4"
                class="w-full p-2 border border-blue-200 rounded text-xs font-mono bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none resize-none shadow-sm"
                placeholder="Paste style string here (s.t:3|...)"></textarea>
            <p class="text-[10px] text-blue-400 mt-1 text-right">
                Accepts raw or URL-encoded strings.
            </p>
        </div>

        <!-- Map Layer Selection -->
        <div class="mb-5">
            <label for="layer-select" class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Base
                Layer (Lyrs)</label>
            <div class="relative">
                <select id="layer-select"
                    class="w-full p-2.5 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block">
                    <option value="m">m (Standard Map)</option>
                    <option value="p">p (Terrain - Best for Custom)</option>
                    <option value="r">r (Roadmap)</option>
                    <option value="s">s (Satellite - No Style)</option>
                    <option value="y">y (Hybrid - No Style)</option>
                    <option value="h">h (Roads Only)</option>
                </select>
            </div>
        </div>

        <!-- Visual Preset Selector -->
        <div class="mb-5">
            <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Fantasy & Gaming
                Presets</label>
            <div class="grid grid-cols-1 gap-2" id="preset-list-gaming">
                <!-- GTA San Andreas -->
                <button
                    class="preset-btn flex items-center p-2 rounded-lg border border-gray-200 hover:bg-yellow-50 hover:border-yellow-300 group text-left relative overflow-hidden"
                    data-layer="p"
                    data-style="s.t:0|s.e:l|p.v:off,s.t:5|s.e:g|p.c:#ffe8ddc0|p.s:-30|p.l:10,s.t:6|s.e:g|p.c:#ff2d5d5d|p.s:-20,s.t:40|s.e:g|p.c:#ff5a7d2b,s.t:3|s.e:g|p.c:#ff111111|p.w:2,s.t:50|s.e:g|p.c:#ffddb85a|p.w:3">
                    <div
                        class="w-10 h-10 rounded-md shadow-sm mr-3 flex-shrink-0 bg-gradient-to-br from-orange-200 to-yellow-700 border border-gray-300">
                    </div>
                    <div>
                        <div class="text-sm font-semibold text-gray-700 group-hover:text-yellow-700">
                            GTA: San Andreas
                        </div>
                        <div class="text-[10px] text-gray-400">
                            Sepia tone, retro feel.
                        </div>
                    </div>
                </button>

                <!-- The Witcher (TRUE NOVIGRAD STYLE - FIXED NUMERIC IDs) -->
                <button class="preset-btn flex items-center p-2 rounded-lg border border-gray-200 hover:bg-red-50 hover:border-red-300 group text-left"
                    data-layer="m" 
                    data-style="s.t:0|s.e:l|p.v:off,s.t:6|p.c:#526b68,s.t:5|p.c:#7d705e,s.t:81|s.e:g.f|p.c:#9e3527,s.t:81|s.e:g.s|p.c:#7d705e,s.t:40|s.e:g|p.c:#535e42,s.t:3|s.e:g|p.c:#968870|p.w:1.5">
                    <div class="w-10 h-10 rounded-md shadow-sm mr-3 flex-shrink-0 bg-[#7d705e] border-2 border-[#9e3527] relative overflow-hidden">
                        <!-- Red Building block representation -->
                        <div class="absolute top-2 left-2 w-4 h-4 bg-[#9e3527]"></div>
                        <!-- Water -->
                        <div class="absolute bottom-0 left-0 w-full h-2 bg-[#526b68]"></div>
                    </div>
                    <div>
                        <div class="text-sm font-semibold text-gray-700 group-hover:text-red-800">
                            The Witcher
                        </div>
                        <div class="text-[10px] text-gray-400">Numeric IDs: Red buildings, earth soil.</div>
                    </div>
                </button>

                <!-- Fantasy Realm / LOTR -->
                <button
                    class="preset-btn flex items-center p-2 rounded-lg border border-gray-200 hover:bg-orange-50 hover:border-orange-300 group text-left"
                    data-layer="p"
                    data-style="s.t:0|s.e:l|p.v:off,s.t:0|s.e:g|p.c:#ffe8dcb5|p.s:-90|p.l:15,s.t:5|s.e:g|p.c:#ffe8dcb5|p.s:-90|p.l:10,s.t:6|s.e:g|p.c:#ff9db3c7|p.s:-60|p.l:-5,s.t:3|s.e:g|p.c:#ff7a5a2b|p.w:1|p.s:-40,s.t:49|s.e:g|p.c:#ff6a4a1b|p.w:2,s.t:40|s.e:g|p.c:#ffcab890|p.s:-70,s.t:82|s.e:g|p.c:#ffd7c49b|p.s:-80">
                    <div class="w-10 h-10 rounded-md shadow-sm mr-3 flex-shrink-0 bg-[#e6dac3] border border-[#8b5a2b]">
                    </div>
                    <div>
                        <div class="text-sm font-semibold text-gray-700 group-hover:text-orange-800">
                            Fantasy Realm
                        </div>
                        <div class="text-[10px] text-gray-400">
                            Fantasy map, earthy tones.
                        </div>
                    </div>
                </button>
            </div>

            <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 mt-4">Sci-Fi &
                Dark</label>
            <div class="grid grid-cols-1 gap-2" id="preset-list-scifi">
                <!-- Cyberpunk Neon -->
                <button
                    class="preset-btn flex items-center p-2 rounded-lg border border-gray-200 hover:bg-gray-900 hover:border-gray-700 hover:text-white group text-left transition-colors duration-300"
                    data-layer="m"
                    data-style="s.t:0|s.e:l|p.v:off,s.t:5|s.e:g|p.c:#ff000000,s.t:81|s.e:g|p.c:#ff04000f,s.t:82|s.e:g|p.c:#ff000000,s.t:6|s.e:g|p.c:#ff00eaff|p.l:-20,s.t:3|s.e:g|p.c:#ffff00ff|p.w:2,s.t:49|s.e:g|p.c:#ffff00ff|p.w:3,s.t:2|s.e:g|p.c:#ff080808,s.t:40|s.e:g|p.c:#ff00ffaa">
                    <div
                        class="w-10 h-10 rounded-md shadow-sm mr-3 flex-shrink-0 bg-black border border-pink-500 relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-full h-1/2 bg-blue-500 opacity-50"></div>
                    </div>
                    <div>
                        <div class="text-sm font-semibold group-hover:text-pink-400 text-gray-800">
                            Cyberpunk Neon
                        </div>
                        <div class="text-[10px] group-hover:text-gray-400 text-gray-400">
                            Black/Pink/Cyan. High tech.
                        </div>
                    </div>
                </button>

                <!-- Hologram -->
                <button
                    class="preset-btn flex items-center p-2 rounded-lg border border-gray-200 hover:bg-indigo-50 hover:border-indigo-300 group text-left"
                    data-layer="m"
                    data-style="s.t:0|s.e:l|p.v:off,s.t:5|s.e:g|p.c:#ff000000,s.t:82|s.e:g|p.c:#ff0a0a1a,s.t:6|s.e:g|p.c:#ff1a3a5f|p.l:-20,s.t:3|s.e:g|p.c:#ff4f7cff|p.w:2,s.t:49|s.e:g|p.c:#ff6f9cff|p.w:3,s.t:2|s.e:g|p.c:#ff111111">
                    <div class="w-10 h-10 rounded-md shadow-sm mr-3 flex-shrink-0 bg-[#0a0a1a] border border-[#4f7cff]">
                    </div>
                    <div>
                        <div class="text-sm font-semibold text-gray-700 group-hover:text-indigo-700">
                            Hologram
                        </div>
                        <div class="text-[10px] text-gray-400">
                            Hologram table. Neon blue.
                        </div>
                    </div>
                </button>

                <!-- Midnight Commander -->
                <button
                    class="preset-btn flex items-center p-2 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-300 group text-left"
                    data-layer="m"
                    data-style="s.t:0|s.e:l|p.v:off,s.t:0|p.c:#242f3e,s.t:6|p.c:#17263c,s.t:3|p.c:#38414e,s.t:3|s.e:g|p.c:#746855">
                    <div
                        class="w-10 h-10 rounded-md shadow-sm mr-3 flex-shrink-0 bg-gradient-to-br from-gray-900 to-blue-900 border border-gray-600">
                    </div>
                    <div>
                        <div class="text-sm font-semibold text-gray-700 group-hover:text-blue-700">
                            Midnight
                        </div>
                        <div class="text-[10px] text-gray-400">
                            Dark mode, high contrast.
                        </div>
                    </div>
                </button>
            </div>

            <label class="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 mt-4">Clean &
                Minimal</label>
            <div class="grid grid-cols-1 gap-2" id="preset-list-minimal">
                <!-- Ocean Blue -->
                <button
                    class="preset-btn flex items-center p-2 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-300 group text-left"
                    data-layer="m"
                    data-style="s.t:0|s.e:l|p.v:off,s.t:0|p.s:-50|p.l:20,s.t:6|p.c:#0077be|p.l:10,s.t:3|p.c:#ffffff|p.l:-10">
                    <div
                        class="w-10 h-10 rounded-md shadow-sm mr-3 flex-shrink-0 bg-gradient-to-br from-blue-300 to-blue-500 border border-blue-200">
                    </div>
                    <div>
                        <div class="text-sm font-semibold text-gray-700 group-hover:text-blue-700">
                            Ocean Blue
                        </div>
                        <div class="text-[10px] text-gray-400">
                            Water focus, clean look.
                        </div>
                    </div>
                </button>

                <!-- High Contrast Clean -->
                <button
                    class="preset-btn flex items-center p-2 rounded-lg border border-gray-200 hover:bg-blue-50 hover:border-blue-300 group text-left"
                    data-layer="m"
                    data-style="s.t:0|s.e:l|p.v:off,s.t:5|s.e:g|p.c:#fff7f7f7,s.t:6|s.e:g|p.c:#ff6ecde7,s.t:3|s.e:g|p.c:#ffffffff|p.w:2,s.t:49|s.e:g|p.c:#ffffffff|p.w:3,s.t:2|s.e:g|p.c:#ffcecece">
                    <div class="w-10 h-10 rounded-md shadow-sm mr-3 flex-shrink-0 bg-[#f7f7f7] border border-[#6ecde7]">
                    </div>
                    <div>
                        <div class="text-sm font-semibold text-gray-700 group-hover:text-blue-700">
                            High Contrast
                        </div>
                        <div class="text-[10px] text-gray-400">Modern, flat, bright.</div>
                    </div>
                </button>

                <!-- Minimal White -->
                <button
                    class="preset-btn flex items-center p-2 rounded-lg border border-gray-200 hover:bg-gray-100 hover:border-gray-300 group text-left"
                    data-layer="m"
                    data-style="s.t:0|s.e:l|p.v:off,s.t:5|s.e:g|p.c:#ffffffff,s.t:6|s.e:g|p.c:#ffededed,s.t:3|s.e:g|p.c:#ff111111|p.w:1,s.t:49|s.e:g|p.c:#ff000000|p.w:2,s.t:2|s.e:g|p.c:#ffbdbdbd">
                    <div class="w-10 h-10 rounded-md shadow-sm mr-3 flex-shrink-0 bg-white border border-gray-400">
                    </div>
                    <div>
                        <div class="text-sm font-semibold text-gray-700 group-hover:text-gray-900">
                            Minimal White
                        </div>
                        <div class="text-[10px] text-gray-400">
                            Poster style, simple & elegant.
                        </div>
                    </div>
                </button>
            </div>
        </div>

        <!-- Debug/URL Display -->
        <div class="mb-4 bg-yellow-50 p-3 rounded-lg border border-yellow-200 mt-auto">
            <label class="block text-[10px] font-bold text-yellow-800 uppercase mb-1 flex items-center">
                <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                </svg>
                Generated URL
            </label>
            <textarea id="debug-url" rows="2" readonly
                class="w-full p-2 text-[10px] font-mono text-gray-600 bg-white border border-gray-200 rounded break-all cursor-pointer focus:ring-1 focus:ring-yellow-400 outline-none"
                onclick="this.select()"></textarea>
        </div>

        <!-- Actions -->
        <div class="grid grid-cols-2 gap-3">
            <button id="reset-style-btn"
                class="col-span-1 bg-gray-100 text-gray-600 py-2.5 rounded-lg font-semibold hover:bg-gray-200 transition-colors text-sm">
                Reset
            </button>
            <button id="apply-style-btn"
                class="col-span-1 bg-blue-600 text-white py-2.5 rounded-lg font-semibold hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all text-sm transform active:scale-95">
                Apply Style
            </button>
        </div>
    </div>

    <!-- Right: Map Area -->
    <div id="map-container" class="flex-1 relative bg-gray-200">
        <div id="map" class="h-full w-full outline-none"></div>

        <!-- Mobile Toggle Button -->
        <button id="toggle-menu-btn"
            class="md:hidden absolute top-4 left-4 bg-white text-gray-700 p-3 rounded-full shadow-lg z-[999] hover:bg-gray-100 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16">
                </path>
            </svg>
        </button>
    </div>

    <!-- Leaflet JS (CDN) -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha2d1-sP3/azT7A1S3uB49X4d34Vw/kL/nFp3d/jE9G7iQ8QeM1A/pE+J9K+33D3L5G4A==" crossorigin=""></script>

    <!-- Kendi JS Kodumuz (Body sonunda çağırıyoruz ki sayfa yüklenmiş olsun) -->
    <script src="assets/js/app.js"></script>
</body>

</html>